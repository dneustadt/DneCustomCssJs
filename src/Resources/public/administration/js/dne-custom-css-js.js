(this.webpackJsonp=this.webpackJsonp||[]).push([["dne-custom-css-js"],{"/3Mh":function(e){e.exports=JSON.parse('{"dne-customcssjs":{"modules":{"menu":"Custom CSS/JS","title":"CSS/JS Container","addModulesButton":"Add Container","nameLabel":"Name","cssLabel":"CSS/SCSS","jsLabel":"JavaScript","activeLabel":"Active","saveButton":"Save","saveCompileButton":"Save & Compile","cancelButton":"Cancel","donateText":"Click here to support this free extension or if you want to buy me a cup of coffee"}}}')},"380L":function(e){e.exports=JSON.parse('{"dne-customcssjs":{"modules":{"menu":"Custom CSS/JS","title":"CSS/JS Container","addModulesButton":"Container hinzufügen","nameLabel":"Name","cssLabel":"CSS/SCSS","jsLabel":"JavaScript","activeLabel":"Aktiv","saveButton":"Speichern","saveCompileButton":"Speichern & Kompilieren","cancelButton":"Abbrechen","donateText":"Klicken Sie hier, wenn Sie dieses kostenlose Plugin unterstützen oder mir einen Kaffee ausgeben möchten"}}}')},"J2v/":function(e,t,n){"use strict";(function(e){var t=n("Zc3j"),s=n.n(t);const{Component:o,Mixin:i}=Shopware,{mapApiErrors:a}=Shopware.Component.getComponentHelper();o.register("dne-module-detail",{template:s(),inject:["repositoryFactory","context"],mixins:[i.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data:()=>({syncService:null,httpClient:null,module:null,isLoading:!1,processSuccess:!1,repository:null}),props:{moduleId:{type:String,required:!1,default:null}},computed:{editorConfigJs:()=>({mode:"ace/mode/javascript"}),editorConfigSass:()=>({mode:"ace/mode/css"}),...a("module",["name"])},created(){this.repository=this.repositoryFactory.create("dne_custom_js_css"),this.getModule(),this.syncService=Shopware.Service("syncService"),this.httpClient=this.syncService.httpClient},methods:{getModule(){this.moduleId?this.repository.get(this.moduleId,Shopware.Context.api).then(e=>{this.module=e}):this.module=this.repository.create(Shopware.Context.api)},onClickSave(){return this.isLoading=!0,this.repository.save(this.module,Shopware.Context.api).then(()=>{this.moduleId||(this.moduleId=this.module.id),this.getModule(),this.isLoading=!1,this.processSuccess=!0}).catch(t=>{this.isLoading=!1,e.name&&e.name.length&&this.createNotificationError({title:"Error",message:t})})},onClickSaveCompile(){this.onClickSave().then(()=>{this.isLoading=!0;const e={Authorization:`Bearer ${Shopware.Context.api.authToken.access}`,"Content-Type":"application/json"};this.httpClient.get("_action/dne-customcssjs/compile",{headers:e}).then(()=>{this.isLoading=!1}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:"Error",message:e})})})},saveFinish(){this.processSuccess=!1}}})}).call(this,n("3UD+")(e))},Zc3j:function(e,t){e.exports='{% block dne_module_detail %}\n    <sw-page class="dne-module-detail">\n        <template slot="smart-bar-actions">\n            <sw-button :routerLink="{ name: \'dne.module.list\' }">\n                {{ $t(\'dne-customcssjs.modules.cancelButton\') }}\n            </sw-button>\n\n            <sw-button-process\n                    :isLoading="isLoading"\n                    :processSuccess="processSuccess"\n                    variant="primary"\n                    @process-finish="saveFinish"\n                    @click="onClickSave">\n                {{ $t(\'dne-customcssjs.modules.saveButton\') }}\n            </sw-button-process>\n\n            <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSaveCompile">\n                {{ $t(\'dne-customcssjs.modules.saveCompileButton\') }}\n            </sw-button-process>\n        </template>\n\n        <template slot="content">\n            <sw-card-view>\n                <sw-card v-if="module" :isLoading="isLoading">\n                    <sw-checkbox-field :label="$t(\'dne-customcssjs.modules.activeLabel\')" v-model="module.active"></sw-checkbox-field>\n\n                    <sw-field type="text"\n                              :label="$t(\'dne-customcssjs.modules.nameLabel\')"\n                              v-model="module.name"\n                              validation="required"\n                              :error="moduleNameError"\n                              required>\n                    </sw-field>\n\n                    <sw-code-editor\n                        :label="$t(\'dne-customcssjs.modules.cssLabel\')"\n                        name="css"\n                        identifier="value"\n                        completionMode="entity"\n                        :editorConfig="editorConfigSass"\n                        v-model="module.css">\n                    </sw-code-editor>\n\n                    <sw-code-editor\n                        :label="$t(\'dne-customcssjs.modules.jsLabel\')"\n                        name="js"\n                        identifier="value"\n                        completionMode="entity"\n                        :editorConfig="editorConfigJs"\n                        v-model="module.js">\n                    </sw-code-editor>\n                </sw-card>\n                <sw-card>\n                    <a href="https://github.com/dneustadt/DneCustomCssJs" target="_blank">\n                        {{ $t(\'dne-customcssjs.modules.donateText\') }}\n                    </a>\n                </sw-card>\n            </sw-card-view>\n        </template>\n    </sw-page>\n{% endblock %}\n'},j7kl:function(e,t){e.exports='{% block dne_module_list %}\n    <sw-page class="dne-module-list">\n        {% block dne_module_list_smart_bar_actions %}\n            <template slot="smart-bar-actions">\n                <sw-button variant="primary" :routerLink="{ name: \'dne.module.create\' }">\n                    {{ $t(\'dne-customcssjs.modules.addModulesButton\') }}\n                </sw-button>\n            </template>\n        {% endblock %}\n\n        <template slot="content">\n            {% block dne_module_list_content %}\n                <sw-entity-listing\n                        v-if="modules"\n                        :items="modules"\n                        :repository="repository"\n                        :showSelection="false"\n                        :columns="columns"\n                        detailRoute="dne.module.detail">\n                </sw-entity-listing>\n            {% endblock %}\n        </template>\n    </sw-page>\n{% endblock %}\n'},jIcv:function(e,t,n){"use strict";n.r(t);var s=n("j7kl"),o=n.n(s);const{Component:i}=Shopware,{Criteria:a}=Shopware.Data;i.register("dne-module-list",{template:o.a,inject:["repositoryFactory","context"],data:()=>({repository:null,modules:null}),metaInfo(){return{title:this.$createTitle()}},computed:{columns(){return[{property:"name",dataIndex:"name",label:this.$t("dne-customcssjs.modules.nameLabel"),routerLink:"dne.module.detail",inlineEdit:"string",allowResize:!0,primary:!0}]}},created(){this.repository=this.repositoryFactory.create("dne_custom_js_css"),this.repository.search(new a,Shopware.Context.api).then(e=>{this.modules=e})}});n("J2v/");var l=n("380L"),c=n("/3Mh");const{Module:d}=Shopware;d.register("dne-module",{color:"#ff3d58",icon:"default-text-code",title:"dne-customcssjs.modules.title",description:"",snippets:{"de-DE":l,"en-GB":c},routes:{list:{component:"dne-module-list",path:"list"},detail:{component:"dne-module-detail",path:"detail/:id",meta:{parentPath:"dne.module.list"},props:{default:e=>({moduleId:e.params.id})}},create:{component:"dne-module-detail",path:"create",meta:{parentPath:"dne.module.list"}}},navigation:[{label:"dne-customcssjs.modules.menu",color:"#ff3d58",path:"dne.module.list",icon:"default-text-code",position:100}]})}},[["jIcv","runtime","vendors-node"]]]);