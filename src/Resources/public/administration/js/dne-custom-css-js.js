/*! For license information please see dne-custom-css-js.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=(window.__sw__.assetPath + '/bundles/dnecustomcssjs/'),n(n.s="nT6e")}({BgiL:function(e,t){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:null,key:"dne_custom_js_css",roles:{viewer:{privileges:["dne_custom_js_css:read"],dependencies:[]},editor:{privileges:["dne_custom_js_css:update","dne_custom_js_css_sales_channel:create","dne_custom_js_css_sales_channel:delete"],dependencies:[]},creator:{privileges:["dne_custom_js_css:create","dne_custom_js_css_sales_channel:create","dne_custom_js_css_sales_channel:delete"],dependencies:[]},deleter:{privileges:["dne_custom_js_css:delete"],dependencies:[]}}})},E65a:function(e){e.exports=JSON.parse('{"dne-customcssjs":{"modules":{"menu":"Custom CSS/JS","title":"CSS/JS Container","addModulesButton":"Container hinzufügen","salesChannelsLabel":"Verkaufskanäle","salesChannelsAll":"alle","nameLabel":"Name","cssLabel":"CSS/SCSS","jsLabel":"JavaScript","activeLabel":"Aktiv","saveButton":"Speichern","saveCompileButton":"Speichern & Kompilieren","cancelButton":"Abbrechen"}},"sw-privileges":{"permissions":{"dne_custom_js_css":{"label":"Custom CSS/JS"}}}}')},KxnD:function(e){e.exports=JSON.parse('{"dne-customcssjs":{"modules":{"menu":"Custom CSS/JS","title":"CSS/JS Container","addModulesButton":"Add Container","salesChannelsLabel":"Sales channels","salesChannelsAll":"all","nameLabel":"Name","cssLabel":"CSS/SCSS","jsLabel":"JavaScript","activeLabel":"Active","saveButton":"Save","saveCompileButton":"Save & Compile","cancelButton":"Cancel"}},"sw-privileges":{"permissions":{"dne_custom_js_css":{"label":"Custom CSS/JS"}}}}')},NTsr:function(e,t,n){},nT6e:function(e,t,n){"use strict";n.r(t);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new E(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var p={};function h(){}function m(){}function v(){}var y={};u(y,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(O([])));b&&b!==t&&n.call(b,s)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(i,a,s,c){var l=f(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,c)}),(function(e){o("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return o("throw",e,s,c)}))}c(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=v,i(w,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:m,configurable:!0}),m.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(_.prototype),u(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),u(w,l,"Generator"),u(w,s,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var c=Shopware.Component,l=Shopware.Data.Criteria;c.register("dne-module-list",{template:'{% block dne_module_list %}\n    <sw-page class="dne-module-list">\n        {% block dne_module_list_smart_bar_actions %}\n            <template slot="smart-bar-actions">\n                <sw-button\n                    variant="primary"\n                    :routerLink="{ name: \'dne.module.create\' }"\n                    :disabled="!acl.can(\'dne_custom_js_css.creator\')"\n                >\n                    {{ $t(\'dne-customcssjs.modules.addModulesButton\') }}\n                </sw-button>\n            </template>\n        {% endblock %}\n\n        <template slot="content">\n            {% block dne_module_list_content %}\n                <sw-entity-listing\n                        v-if="modules"\n                        ref="listing"\n                        :items="modules"\n                        :repository="repository"\n                        :showSelection="false"\n                        :columns="columns"\n                        detailRoute="dne.module.detail">\n                    <template #column-active="{ item }">\n                        <sw-data-grid-column-boolean\n                            :value="item.active"\n                            :isInlineEdit="false">\n                        </sw-data-grid-column-boolean>\n                    </template>\n                    <template #column-salesChannels="{ item }">\n                        <div v-if="item.salesChannels.length">\n                            <sw-label\n                                v-for="salesChannel in item.salesChannels"\n                                :key="salesChannel.id">\n                                {{ salesChannel.name }}\n                            </sw-label>\n                        </div>\n                        <span v-else>\n                            {{ $t(\'dne-customcssjs.modules.salesChannelsAll\') }}\n                        </span>\n                    </template>\n                </sw-entity-listing>\n                <div v-if="isLoading"\n                     class="sw-overlay">\n                    <sw-loader></sw-loader>\n                </div>\n            {% endblock %}\n        </template>\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory","context","acl","themeService"],data:function(){return{repository:null,modules:null,isLoading:!0}},metaInfo:function(){return{title:this.$createTitle()}},computed:{columns:function(){return[{property:"active",label:this.$t("dne-customcssjs.modules.activeLabel"),allowResize:!1,align:"center",width:"125px"},{property:"name",dataIndex:"name",label:this.$t("dne-customcssjs.modules.nameLabel"),routerLink:"dne.module.detail",allowResize:!0,primary:!0},{property:"salesChannels",dataIndex:"salesChannels",label:this.$t("dne-customcssjs.modules.salesChannelsLabel"),allowResize:!0,sortable:!1}]},salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")}},created:function(){var e=this;this.repository=this.repositoryFactory.create("dne_custom_js_css");var t=new l;t.addAssociation("salesChannels"),t.addSorting(l.sort("name","ASC",!1)),this.repository.search(t,Shopware.Context.api).then((function(t){e.modules=t,e.isLoading=!1,e.$nextTick().then((function(){e.$refs.listing.$on("delete-item-finish",(function(){e.isLoading=!0,e.compileTheme().then((function(){e.isLoading=!1})).catch((function(){e.isLoading=!1}))}))}))}))},methods:{compileTheme:function(){var e,t=this;return(e=o().mark((function e(){var n,r,a,s,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new l).addAssociation("themes"),e.next=4,t.salesChannelRepository.search(n,Shopware.Context.api);case 4:r=e.sent,a=i(r),e.prev=6,a.s();case 8:if((s=a.n()).done){e.next=16;break}if(c=s.value,!(u=c.extensions.themes.first())){e.next=14;break}return e.next=14,t.themeService.assignTheme(u.id,c.id);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[6,18,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))})()}}});n("rR+r");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new E(o||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function h(){}function m(){}function v(){}var y={};c(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(O([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var c=f(e[r],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==u(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:m,configurable:!0}),m.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(_.prototype),c(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),c(w,s,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Shopware,g=y.Component,b=y.Mixin,w=y.Filter,S=Shopware.Component.getComponentHelper().mapPropertyErrors,_=Shopware.Data.Criteria;g.register("dne-module-detail",{template:'{% block dne_module_detail %}\n    <sw-page class="dne-module-detail">\n        <template slot="smart-bar-actions">\n            <sw-button :routerLink="{ name: \'dne.module.list\' }">\n                {{ $t(\'dne-customcssjs.modules.cancelButton\') }}\n            </sw-button>\n\n            <sw-button-process\n                    v-if="module"\n                    :isLoading="isLoading"\n                    :processSuccess="processSuccess"\n                    :disabled="module.isNew() ? !acl.can(\'dne_custom_js_css.creator\') : !acl.can(\'dne_custom_js_css.editor\')"\n                    variant="primary"\n                    @process-finish="saveFinish"\n                    @click="onClickSave">\n                {{ $t(\'dne-customcssjs.modules.saveButton\') }}\n            </sw-button-process>\n\n            <sw-button-process\n                    v-if="module"\n                    :isLoading="isLoading"\n                    :processSuccess="processSuccess"\n                    :disabled="module.isNew() ? !acl.can(\'dne_custom_js_css.creator\') : !acl.can(\'dne_custom_js_css.editor\')"\n                    variant="primary"\n                    @process-finish="saveFinish"\n                    @click="onClickSaveCompile">\n                {{ $t(\'dne-customcssjs.modules.saveCompileButton\') }}\n            </sw-button-process>\n        </template>\n\n        <template slot="content">\n            <sw-card-view>\n                <sw-card v-if="module" :isLoading="isLoading">\n                    <sw-checkbox-field :label="$t(\'dne-customcssjs.modules.activeLabel\')" v-model="module.active"></sw-checkbox-field>\n\n                    <sw-container columns="1fr 1fr" gap="16px">\n                        <sw-field type="text"\n                                  :label="$t(\'dne-customcssjs.modules.nameLabel\')"\n                                  v-model="module.name"\n                                  validation="required"\n                                  :error="moduleNameError"\n                                  required>\n                        </sw-field>\n\n                        <sw-entity-many-to-many-select\n                            :localMode="module.isNew()"\n                            :label="$t(\'dne-customcssjs.modules.salesChannelsLabel\')"\n                            :placeholder="$t(\'dne-customcssjs.modules.salesChannelsAll\')"\n                            v-model="module.salesChannels">\n                        </sw-entity-many-to-many-select>\n                    </sw-container>\n\n                    <sw-field type="compactColorpicker"\n                              compact\n                              :alpha="false"\n                              @input="pickColor">\n                    </sw-field>\n\n                    <sw-code-editor\n                        :label="$t(\'dne-customcssjs.modules.cssLabel\')"\n                        ref="cssEditor"\n                        name="css"\n                        identifier="value"\n                        completionMode="entity"\n                        :editorConfig="editorConfigSass"\n                        v-model="module.css">\n                    </sw-code-editor>\n\n                    <sw-code-editor\n                        :label="$t(\'dne-customcssjs.modules.jsLabel\')"\n                        name="js"\n                        identifier="value"\n                        completionMode="entity"\n                        :editorConfig="editorConfigJs"\n                        v-model="module.js">\n                    </sw-code-editor>\n                </sw-card>\n            </sw-card-view>\n        </template>\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory","context","acl","themeService"],mixins:[b.getByName("notification")],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{syncService:null,httpClient:null,module:null,isLoading:!1,processSuccess:!1,repository:null}},props:{moduleId:{type:String,required:!1,default:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({editorConfigJs:function(){return{mode:"ace/mode/javascript",useWorker:!1}},editorConfigSass:function(){return{mode:"ace/mode/css"}},salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")}},S("module",["name"])),created:function(){this.repository=this.repositoryFactory.create("dne_custom_js_css"),this.getModule(),this.syncService=Shopware.Service("syncService"),this.httpClient=this.syncService.httpClient},methods:{getModule:function(){var e=this;this.moduleId?this.repository.get(this.moduleId,Shopware.Context.api).then((function(t){e.module=t})):this.module=this.repository.create(Shopware.Context.api)},onClickSave:function(){var e=this;return this.isLoading=!0,this.repository.save(this.module,Shopware.Context.api).then((function(){e.moduleId||(e.moduleId=e.module.id),e.getModule(),e.isLoading=!1,e.processSuccess=!0})).catch((function(t){e.isLoading=!1,e.module.name&&e.module.name.length&&e.createNotificationError({title:"Error",message:t})}))},onClickSaveCompile:function(){var e=this;this.onClickSave().then((function(){e.isLoading=!0,e.compileTheme().then((function(){e.isLoading=!1})).catch((function(t){e.isLoading=!1;try{e.createNotificationError({title:t.response.data.errors[0].title,message:w.getByName("truncate")(t.response.data.errors[0].detail,300),autoClose:!1})}catch(n){e.createNotificationError({title:t.title,message:t.message,autoClose:!1})}}))}))},saveFinish:function(){this.processSuccess=!1},pickColor:function(e){if(this.$refs.cssEditor){var t=this.$refs.cssEditor.editor;t&&(t.session.insert(t.getCursorPosition(),e),t.renderer.scrollCursorIntoView(t.getCursorPosition(),.5))}},compileTheme:function(){var e,t=this;return(e=d().mark((function e(){var n,r,o,i,a,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new _).addAssociation("themes"),e.next=4,t.salesChannelRepository.search(n,Shopware.Context.api);case 4:r=e.sent,o=f(r),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=16;break}if(a=i.value,!(s=a.extensions.themes.first())){e.next=14;break}return e.next=14,t.themeService.assignTheme(s.id,a.id);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),o.e(e.t0);case 21:return e.prev=21,o.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[6,18,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,s,"next",e)}function s(e){h(i,r,o,a,s,"throw",e)}a(void 0)}))})()}}});n("BgiL");var x=n("E65a"),j=n("KxnD");Shopware.Module.register("dne-module",{color:"#ff3d58",icon:"regular-code",title:"dne-customcssjs.modules.title",description:"",snippets:{"de-DE":x,"en-GB":j},routes:{list:{component:"dne-module-list",path:"list",meta:{privilege:"dne_custom_js_css.viewer"}},detail:{component:"dne-module-detail",path:"detail/:id",meta:{parentPath:"dne.module.list",privilege:"dne_custom_js_css.viewer"},props:{default:function(e){return{moduleId:e.params.id}}}},create:{component:"dne-module-detail",path:"create",meta:{parentPath:"dne.module.list",privilege:"dne_custom_js_css.creator"}}},navigation:[{label:"dne-customcssjs.modules.menu",path:"dne.module.list",parent:"sw-extension",position:100}]})},"rR+r":function(e,t,n){var r=n("NTsr");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("e77bbbc0",r,!0,{})},ydqr:function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],s={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return h}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},d=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,o){l=n,d=o||{};var a=r(e,t);return m(a),function(t){for(var n=[],o=0;o<a.length;o++){var s=a[o];(c=i[s.id]).refs--,n.push(c)}t?m(a=r(e,t)):a=[];for(o=0;o<n.length;o++){var c;if(0===(c=n[o]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete i[c.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(y(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(y(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function y(e){var t,n,r=document.querySelector("style["+f+'~="'+e.id+'"]');if(r){if(l)return u;r.parentNode.removeChild(r)}if(p){var o=c++;r=s||(s=v()),t=w.bind(null,r,o,!1),n=w.bind(null,r,o,!0)}else r=v(),t=S.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var g,b=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function S(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(f,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}});
//# sourceMappingURL=dne-custom-css-js.js.map